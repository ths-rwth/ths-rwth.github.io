<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>carl: Operators</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">carl
   &#160;<span id="projectnumber">22.12</span>
   </div>
   <div id="projectbrief">Computer ARithmetic Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dc/df0/a06229.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Operators </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__builds_ths_smt_carl_doc_markdown_users_polynomials_operators"></a></p>
<p>The classes used to build polynomials are (almost) fully compatible with respect to the following operators, that means that any two objects of these types can be combined if there is a directed path between them within the class hierarchy. The exception are shown and explained below. All the operators have the usual meaning.</p>
<ul>
<li>Comparison operators<ul>
<li><code>operator==(lhs, rhs)</code></li>
<li><code>operator!=(lhs, rhs)</code></li>
<li><code>operator&lt;(lhs, rhs)</code></li>
<li><code>operator&lt;=(lhs, rhs)</code></li>
<li><code>operator&gt;(lhs, rhs)</code></li>
<li><code>operator&gt;=(lhs, rhs)</code></li>
</ul>
</li>
<li>Arithmetic operators<ul>
<li><code>operator+(lhs, rhs)</code></li>
<li><code>operator+=(lhs, rhs)</code></li>
<li><code>operator-(lhs, rhs)</code></li>
<li><code>operator-(rhs)</code></li>
<li><code>operator-=(lhs, rhs)</code></li>
<li><code>operator*(lhs, rhs)</code></li>
<li><code>operator*=(lhs, rhs)</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md38"></a>
Comparison operators</h1>
<p>All of these operators are defined for all combination of types. We use the following ordering:</p><ul>
<li>For two variables <code>x</code> and <code>y</code>, <code>x &lt; y</code> if the id of <code>x</code> is smaller then the id of <code>y</code>. The id is generated automatically by the VariablePool.</li>
<li>For two monomials <code>a</code> and <code>b</code>, we use a lexicographical ordering with total degree, that is <code>a &lt; b</code> if<ul>
<li>the total degree of <code>a</code> is smaller than the total degree of <code>b</code>, or</li>
<li>the total degrees are the same and<ul>
<li>the exponent of some variable <code>v</code> in <code>a</code> is greater than in <code>b</code> and</li>
<li>the exponents of all variables smaller than <code>v</code> are the same in <code>a</code> and in <code>b</code>.</li>
</ul>
</li>
<li>The intuition is that the monomials are considered as a sorted product of plain variables.</li>
</ul>
</li>
<li>For two terms <code>a</code> and <code>b</code>, <code>a &lt; b</code> if<ul>
<li>the monomial of <code>a</code> is smaller than the monomial of <code>b</code>, or</li>
<li>the monomials of <code>a</code> and <code>b</code> are the same and the coefficient of <code>a</code> is smaller than the coefficient of <code>b</code>.</li>
</ul>
</li>
<li>For two polynomials <code>a</code> and <code>b</code>, we use a lexicographical ordering, that is <code>a &lt; b</code> if<ul>
<li><code>term(a,i) &lt; term(b,i)</code> and</li>
<li><code>term(a,j) = term(b,j)</code> for all <code>j=0, ..., i-1</code>, where <code>term(a,0)</code> is the leading term of <code>a</code>, that is the largest term with respect to the term ordering.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md39"></a>
Arithmetic operators</h1>
<p>We now give a table for all (classes of) operators with the result type or a reason why it is not implemented for any combination of these types.</p>
<h2><a class="anchor" id="autotoc_md40"></a>
&lt;tt&gt;operator+(lhs, rhs)&lt;/tt&gt;, &lt;tt&gt;operator-(lhs, rhs)&lt;/tt&gt;</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">+   </th><th class="markdownTableHeadNone">C   </th><th class="markdownTableHeadNone">V   </th><th class="markdownTableHeadNone">M   </th><th class="markdownTableHeadNone">T   </th><th class="markdownTableHeadNone">MP    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">C   </td><td class="markdownTableBodyNone">C   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">V   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">1)   </td><td class="markdownTableBodyNone">1)   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">M   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">1)   </td><td class="markdownTableBodyNone">1)   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md41"></a>
&lt;tt&gt;operator-(lhs)&lt;/tt&gt; (unary minus)</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">-   </th><th class="markdownTableHeadNone">C   </th><th class="markdownTableHeadNone">V   </th><th class="markdownTableHeadNone">M   </th><th class="markdownTableHeadNone">T   </th><th class="markdownTableHeadNone">MP    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">C   </td><td class="markdownTableBodyNone">1)   </td><td class="markdownTableBodyNone">1)   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">MP   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md42"></a>
operator*(lhs, rhs)</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">*   </th><th class="markdownTableHeadNone">C   </th><th class="markdownTableHeadNone">V   </th><th class="markdownTableHeadNone">M   </th><th class="markdownTableHeadNone">T   </th><th class="markdownTableHeadNone">MP    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">C   </td><td class="markdownTableBodyNone">C   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">MP    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">V   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">M   </td><td class="markdownTableBodyNone">M   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">MP    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">M   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">M   </td><td class="markdownTableBodyNone">M   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">MP    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">MP    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md43"></a>
&lt;tt&gt;operator+=(rhs)&lt;/tt&gt;, &lt;tt&gt;operator-=(rhs)&lt;/tt&gt;</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">+=   </th><th class="markdownTableHeadNone">C   </th><th class="markdownTableHeadNone">V   </th><th class="markdownTableHeadNone">M   </th><th class="markdownTableHeadNone">T   </th><th class="markdownTableHeadNone">MP    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">C   </td><td class="markdownTableBodyNone">C   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">V   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">M   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)   </td><td class="markdownTableBodyNone">2)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md44"></a>
&lt;tt&gt;operator*=(rhs)&lt;/tt&gt;</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">*=   </th><th class="markdownTableHeadNone">C   </th><th class="markdownTableHeadNone">V   </th><th class="markdownTableHeadNone">M   </th><th class="markdownTableHeadNone">T   </th><th class="markdownTableHeadNone">MP    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">C   </td><td class="markdownTableBodyNone">C   </td><td class="markdownTableBodyNone">3)   </td><td class="markdownTableBodyNone">3)   </td><td class="markdownTableBodyNone">3)   </td><td class="markdownTableBodyNone">3)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">V   </td><td class="markdownTableBodyNone">3)   </td><td class="markdownTableBodyNone">3)   </td><td class="markdownTableBodyNone">3)   </td><td class="markdownTableBodyNone">3)   </td><td class="markdownTableBodyNone">3)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">M   </td><td class="markdownTableBodyNone">3)   </td><td class="markdownTableBodyNone">M   </td><td class="markdownTableBodyNone">M   </td><td class="markdownTableBodyNone">3)   </td><td class="markdownTableBodyNone">3)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">T   </td><td class="markdownTableBodyNone">3)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td><td class="markdownTableBodyNone">MP   </td></tr>
</table>
<ol type="1">
<li>A coefficient type is needed to construct the desired result type, but none can be extracted from the argument types.</li>
<li>The type of the left hand side can not represent sums of these objects.</li>
<li>The type of the left hand side can not represent products of these objects.</li>
</ol>
<h1><a class="anchor" id="autotoc_md45"></a>
UnivariatePolynomial operators</h1>
<h1><a class="anchor" id="autotoc_md46"></a>
Implementation</h1>
<p>We follow a few rules when implementing these operators:</p><ul>
<li>Of the comparison operators, only <code>operator==</code> and <code>operator&lt;</code> contain a real implementation. The others are implemented like this:<ul>
<li><code>operator!=(lhs, rhs)</code>: <code>!(lhs == rhs)</code></li>
<li><code>operator&lt;=(lhs, rhs)</code>: <code>!(rhs &lt; lhs)</code></li>
<li><code>operator&gt;(lhs, rhs)</code>: <code>rhs &lt; lhs</code></li>
<li><code>operator&gt;=(lhs, rhs)</code>: <code>rhs &lt;= lhs</code></li>
</ul>
</li>
<li>Of all <code>operator==</code>, only those where <code>lhs</code> is the most general type contain a real implementation. The others are implemented like this:<ul>
<li><code>operator==(lhs, rhs)</code>: <code>rhs == lhs</code></li>
</ul>
</li>
<li>They are ordered like in the list above.</li>
<li>Operators are implemented in the file of the most general type involved (either an argument or the return type).</li>
<li>Operators are not implemented as friend methods. Those are usually only found by the compiler due to ADL, but as we need to declare <code>operator+(Term, Term) -&gt; MultivariatePolynomial</code> next to the MultivariatePolynomial, this will not work. If a friend declaration is necessary, it will be done as a forward declaration.</li>
<li>Overloaded versions of the same operator are ordered in decreasing lexicographical order, like in this example:<ul>
<li><code>operator(Term,Term)</code></li>
<li><code>operator(Term,Monomial)</code></li>
<li><code>operator(Term,Variable)</code></li>
<li><code>operator(Term,Coefficient)</code></li>
<li><code>operator(Monomial,Term)</code></li>
<li><code>operator(Variable,Term)</code></li>
<li><code>operator(Coefficient,Term)</code></li>
</ul>
</li>
<li>Other versions are below those.</li>
</ul>
<h1><a class="anchor" id="autotoc_md47"></a>
Testing the operators</h1>
<p>There are two stages for testing these operators: a syntactical check that these operators exist and have the correct signature and a semantical check that they actually work as expected.</p>
<h2><a class="anchor" id="autotoc_md48"></a>
Syntactical checks</h2>
<p>The syntactical check for all operators specified here is done in <code>tests/core/Test_Operators.cpp</code>. We use <code>boost::concept_check</code> to check the existence of the operators. There are the following concepts:</p>
<ul>
<li><code>Comparison</code>: Checks for all comparison operators. (<code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>)</li>
<li><code>Addition</code>: Checks for out-of-place addition operators. (<code>+</code>, <code>-</code>)</li>
<li><code>UnaryMinus</code>: Checks for unary minus operators. (<code>-</code>)</li>
<li><code>Multiplication</code>: Checks for out-of-place multiplication operators. (<code>*</code>)</li>
<li><code>InplaceAddition</code>: Checks for all in-place addition operators. (<code>+=</code>, <code>-=</code>)</li>
<li><code>InplaceMultiplication</code>: Checks for all in-place multiplication operators. (<code>*=</code>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md49"></a>
Semantical checks</h2>
<p>Semantical checking is done within the test for each class. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d6/d5f/a06225.html">User Documentation</a></li><li class="navelem"><a class="el" href="../../db/dce/a06228.html">Polynomials</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
