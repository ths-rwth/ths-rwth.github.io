<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SMT-RAT: Delta</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo_smtrat.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SMT-RAT
   &#160;<span id="projectnumber">22.11</span>
   </div>
   <div id="projectbrief">Toolbox for Strategic and Parallel Satisfiability-Modulo-Theories Solving</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d6/d17/delta.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Delta </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__builds_ths_smt_smtrat_doc_markdown_tools_delta"></a> </p>
<h1><a class="anchor" id="autotoc_md75"></a>
Delta debugging</h1>
<p><b>Delta debugging</b> describes a generic debugging approach based on automated testing. Given a program and an input that provokes a certain behavior (for example an error) delta debugging is the process of iteratively changing the input, retaining the specific behavior. Each small change to the input represents a <b>delta</b> and is the result of some transformation rule. Whenever a change was successful, it is stored and the process continues from this intermediate result. Eventually, there is no transformation left, such that the faulty behavior is retained and the debugging process terminates.</p>
<p>This approach only works, if the transformation rules can neither be chained to form a loop, nor continue infinitely. Usually, as the ultimate goal is a minimal example that triggers some bug, all transformation rules are designed to make the input smaller, in one way or another.</p>
<p>This approach has proven to be very valuable in the context of SAT and SMT solving. However, existing delta debugging tools <a class="el" href="../../d0/de3/citelist.html#CITEREF_Niemetz2013ddsmt">[24]</a> needed a preprocessed input and manual restarts to achieve a fix-point, hence, we decided to include our own delta debugging tool, <code>delta</code>, in SMT-RAT. It can be used completely independent of SMT-RAT and is built to be as generic as possible, but focuses on programs operating on SMT-LIB files. It has some knowledge of the semantics of the corresponding logics, but only operates on nodes. Any SMT-LIB construct, that is either a constant or a braced expression, is a node.</p>
<p>The actual transformation rules are implemented in <code>operations.h</code> and are enabled in the constructor of the <code>Producer</code> class. The implemented rules are rather simple: removing a node, replacing a node by a child node, simplifying a number, replacing a symbol by a constant or eliminating a let expression. These transformations are designed such that they can be extended easily. For a given input <code>delta</code> applies each transformation to each node. Each application may produce arbitrarily many <em>candidate inputs</em> which are then tested. The first candidate that provokes the error is then adopted, the other candidates are rejected.</p>
<p>When analyzing the behavior, <code>delta</code> relies on the exit code of the program. It will run the program on the original input and obtain the original exit code. Whenever the program returns the same exit code, <code>delta</code> assumes that the program behaved the same.</p>
<h2><a class="anchor" id="autotoc_md76"></a>
Using delta</h2>
<p><code>delta</code> is currently contained in the SMT-RAT reopsitory and can be built using <code>make delta</code>.</p>
<p>Using <code>delta</code> is rather easy. It accepts the input file and the solver as its two main arguments: <code>./delta -i input.smt2 -s ./solver</code>. There are a couple of other arguments that are documented in the help: <code>./delta --help</code>.</p>
<h3><a class="anchor" id="autotoc_md77"></a>
Exit code</h3>
<p>As delta relies on the exit code of the program, make sure that this event results in a unique exit code:</p>
<ul>
<li><b>Specific assertions</b>: Return a unique exit code by replacing the assertion with <code>if (!assertion_condition) { std:exit(70); }</code>.</li>
<li><b>Faulty output</b>: Remove the <code>(set-info :status unsat)</code>/<code>(set-info :status sat)</code> line from the benchmark and use the script <code>utilities/result-incorrect.py</code> as solver. Note that you need to install z3 first. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d7/d83/tools.html">Other tools</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
